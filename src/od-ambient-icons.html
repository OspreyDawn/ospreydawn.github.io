<html><head><link rel="import" href="../bower_components/iron-meta/iron-meta.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-iconset/iron-iconset.html">

<link rel="import" href="od-iconset.html">
<link rel="import" href="styles/od-global-styles.html">

</head><body><dom-module id="od-ambient-icons" attributes="small-screen">
  <template>
    <style include="od-global-styles">
      iron-icon {
        display: block;
        position: absolute;
        z-index: 0;
        width: 50px;
        height: 50px;
        top: calc(50% - 25px);
        left: calc(50% - 25px);
        opacity: 0;
        fill: var(--default-blue);
      }
    </style>
    <content></content>

    <iron-meta type="iconset" id="meta"><iron-meta>
  </iron-meta></iron-meta></template>

  <script>function shuffle(t){for(var n,e,i=t.length;0!==i;)e=Math.floor(Math.random()*i),i-=1,n=t[i],t[i]=t[e],t[e]=n;return t}var iterations=0;calcAnim=function(t,n,e,i,a){var o,r,s,c=[],h=Math.random()<.5?"x":"y",m=0,d=Math.random()*m,f=0,l=function(){return Math.random()<.5?1:-1};m=a?72e3:144e3,i&&(f=m/16*(iterations*Math.random()),++iterations),d<m/2&&(d+=m/2),"x"===h?(o=n/2*l(),r=e/2*Math.random()*l()):(o=n/2*Math.random()*l(),r=e/2*l()),c=[{transform:"translateX(0) translateY(0) rotate(0deg)",opacity:.77},{transform:"translateX("+o+"px) translateY("+r+"px) rotate(360deg)",opacity:0}],s={duration:d,delay:f};var u=t.animate(c,s);u.onfinish=function(){calcAnim(t,n,e,!1,a)}},Polymer({is:"od-ambient-icons",properties:{iconNameList:{type:Array,value:[]},canvasWidth:{value:0},canvasHeight:{value:0},iconsToAnimate:{type:Array,value:[]}},ready:function(){for(this.iconNameList=this.$.meta.byKey("ambient-icons").getIconNames(),shuffle(this.iconNameList),i=0;i<this.iconNameList.length;i++)this.createIcon(this.iconNameList[i]);window.addEventListener("WebComponentsReady",function(t){return function(){for(t.canvasWidth=t.$$("iron-icon").parentElement.offsetWidth,t.canvasHeight=t.$$("iron-icon").parentElement.offsetHeight,i=0;i<t.iconsToAnimate.length;i++)calcAnim(t.iconsToAnimate[i],t.canvasWidth,t.canvasHeight,!0,t.smallScreen)}}(this)),window.addEventListener("resize",function(t){return function(){t.canvasWidth=t.$$("iron-icon").parentElement.offsetWidth,t.canvasHeight=t.$$("iron-icon").parentElement.offsetHeight}}(this))},createIcon:function(t){var n=document.createElement("iron-icon");return n.setAttribute("icon",t),Polymer.dom(this.root).appendChild(n),this.iconsToAnimate.push(n),n}});</script>
</dom-module>
</body></html>